#!/bin/sh
#(***********************************************************************)
#(*                                                                     *)
#(*                           Caml                                      *)
#(*                                                                     *)
#(*            Pierre Weis, projet Cristal, INRIA Rocquencourt          *)
#(*                                                                     *)
#(*  Copyright 2007 Institut National de Recherche en Informatique et   *)
#(*  en Automatique.  Distributed only by permission.                   *)
#(*                                                                     *)
#(***********************************************************************)

# $Id: configure,v 1.3 2007-09-17 16:16:39 colonna Exp $

# The script to configure Config.mk to set up the value of SRCROOTDIR.

SRCROOTDIR=`cd ..; pwd`

# The file to generate (only one file)
GENERATED=Config.mk

/bin/rm -f $GENERATED ./.gitignore

cp -pf gitignore ./.gitignore

echo "#" > $GENERATED
echo "# Warning: this file has been generated." >> $GENERATED
echo "#" >> $GENERATED
echo "# DO NOT EDIT THIS FILE!" >> $GENERATED
echo "#" >> $GENERATED
echo "# The editable source of this file is in $GENERATED.in" >> $GENERATED
echo "#" >> $GENERATED

sed -e "s|SRCROOTDIR=.*|SRCROOTDIR=$SRCROOTDIR|" \
$GENERATED.in >> $GENERATED

chmod -w $GENERATED
